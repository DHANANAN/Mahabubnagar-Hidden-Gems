<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mahabubnagar Hidden Gems & Landmarks</title>
  <style>
    :root {
      --bg: #f7f9ff;
      --surface: #ffffff;
      --text: #1f2544;
      --muted: #596080;
      --primary: #5b6cff;
      --primary-soft: #e8ebff;
      --accent: #1bc8a1;
      --warn: #ffb703;
      --danger-soft: #fff4e6;
      --shadow: 0 10px 28px rgba(56, 68, 146, 0.12);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background: linear-gradient(180deg, #f3f6ff 0%, #f7f9ff 45%, #ffffff 100%);
      color: var(--text);
      line-height: 1.45;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(12px);
      background: rgba(247, 249, 255, 0.92);
      border-bottom: 1px solid #dfe4ff;
      padding: 0.9rem 0.9rem 1rem;
    }

    .topbar-inner {
      max-width: 1100px;
      margin: 0 auto;
    }

    h1 {
      font-size: clamp(1.15rem, 1rem + 1.5vw, 1.75rem);
      margin: 0 0 0.75rem;
      line-height: 1.2;
      letter-spacing: 0.01em;
    }

    .search-wrap {
      display: flex;
      gap: 0.6rem;
      align-items: center;
      background: var(--surface);
      border: 1px solid #d6ddff;
      border-radius: 999px;
      padding: 0.5rem 0.85rem;
      box-shadow: var(--shadow);
    }

    .search-wrap input {
      border: 0;
      outline: none;
      width: 100%;
      font-size: 1rem;
      color: var(--text);
      background: transparent;
    }

    .chips {
      display: flex;
      gap: 0.45rem;
      overflow-x: auto;
      padding: 0.7rem 0 0.1rem;
      scrollbar-width: thin;
    }

    .chip {
      border: 1px solid #d3dafe;
      border-radius: 999px;
      padding: 0.4rem 0.75rem;
      white-space: nowrap;
      font-size: 0.88rem;
      background: #fff;
      color: var(--text);
      cursor: pointer;
      min-height: 40px;
    }

    .chip[aria-pressed="true"] {
      background: var(--primary-soft);
      color: #2731a9;
      border-color: #b6c0ff;
      font-weight: 600;
    }

    main {
      max-width: 1100px;
      margin: 1rem auto;
      padding: 0 0.9rem 1.5rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 1rem;
    }

    .card {
      border: 1px solid #dfe4ff;
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      cursor: pointer;
      text-align: left;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover,
    .card:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(56, 68, 146, 0.18);
      outline: none;
    }

    .cover {
      aspect-ratio: 16 / 9;
      width: 100%;
      object-fit: cover;
      background: #e9eeff;
    }

    .placeholder {
      aspect-ratio: 16 / 9;
      display: grid;
      place-items: center;
      font-size: 0.9rem;
      color: var(--muted);
      background: linear-gradient(120deg, #edf0ff, #f4fffc);
    }

    .content { padding: 0.95rem; }
    .title { margin: 0; font-size: 1.08rem; }

    .badges,
    .meta-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin: 0.55rem 0;
    }

    .badge {
      border-radius: 999px;
      background: var(--primary-soft);
      color: #2731a9;
      font-size: 0.76rem;
      padding: 0.24rem 0.58rem;
      font-weight: 600;
      border: 1px solid #cfd7ff;
    }

    .badge.warn { background: #fff7df; color: #8a5600; border-color: #ffd88a; }
    .badge.verify { background: var(--danger-soft); color: #965200; border-color: #ffd6a1; }

    .summary {
      margin: 0;
      color: #2f3555;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      font-size: 0.94rem;
    }

    .results-note {
      margin: 0.2rem 0 1rem;
      color: var(--muted);
      font-size: 0.9rem;
    }

    dialog {
      width: min(900px, 95vw);
      border: 0;
      border-radius: 20px;
      padding: 0;
      box-shadow: 0 20px 50px rgba(18, 22, 66, 0.45);
    }

    dialog::backdrop { background: rgba(10, 14, 44, 0.65); }

    .modal-head {
      display: flex;
      justify-content: space-between;
      align-items: start;
      gap: 0.7rem;
      padding: 1rem 1rem 0.4rem;
      position: sticky;
      top: 0;
      background: #fff;
    }

    .close-btn {
      border: 0;
      border-radius: 999px;
      padding: 0.55rem 0.75rem;
      background: #f1f4ff;
      cursor: pointer;
      min-width: 44px;
      min-height: 44px;
      font-weight: 700;
    }

    .modal-body {
      padding: 0 1rem 1rem;
      max-height: 75vh;
      overflow: auto;
    }

    .detail-group { margin: 0.9rem 0; }
    .detail-group h3 { margin: 0 0 0.45rem; font-size: 1rem; }

    ul { margin: 0.3rem 0 0; padding-left: 1.1rem; }
    li { margin-bottom: 0.28rem; }

    .sources a {
      color: #2243c7;
      word-break: break-word;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: 0.7rem;
    }

    .thumb {
      border: 1px solid #d5dcff;
      border-radius: 12px;
      padding: 0.45rem;
      background: #f8faff;
      font-size: 0.8rem;
      text-decoration: none;
      color: #28305d;
      min-height: 92px;
      display: grid;
      align-content: start;
      gap: 0.3rem;
    }

    footer {
      text-align: center;
      color: #3e4568;
      padding: 1.2rem 1rem 1.5rem;
      font-size: 0.9rem;
    }

    @media (max-width: 420px) {
      .card { border-radius: 16px; }
      .content { padding: 0.8rem; }
      .title { font-size: 1rem; }
      .summary { font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="topbar-inner">
      <h1>Mahabubnagar Hidden Gems &amp; Landmarks</h1>
      <label class="search-wrap" for="searchInput" aria-label="Search places">
        <span aria-hidden="true">ðŸ”Ž</span>
        <input id="searchInput" type="search" placeholder="Search by place, type, or tag" />
      </label>
      <div class="chips" id="chips" role="toolbar" aria-label="Filter by place type"></div>
    </div>
  </header>

  <main>
    <p class="results-note" id="resultsNote"></p>
    <section class="grid" id="cards" aria-live="polite"></section>
  </main>

  <dialog id="placeModal" aria-label="Place details">
    <div class="modal-head">
      <div>
        <h2 id="modalTitle" style="margin:0 0 .35rem;"></h2>
        <div class="meta-badges" id="modalBadges"></div>
      </div>
      <button class="close-btn" id="closeModal" aria-label="Close details">âœ•</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </dialog>

  <footer>
    Always verify local timings, access rules, and safety conditions before travel.
  </footer>

  <script>
    const data = {
      "district": "Mahabubnagar",
      "state": "Telangana",
      "updated_iso": "2026-02-20",
      "source_policy": {
        "primary": ["Mahabubnagar District Administration tourism pages", "Telangana Tourism destination pages"],
        "images": ["Wikimedia Commons (preferred)"],
        "verification_note": "Some sites may have only community references; those must be labeled and verified."
      },
      "places": [
        {
          "id": "pillalamarri-banyan",
          "name": "Pillalamarri Banyan Tree",
          "type": ["Nature", "Heritage"],
          "summary": "A famed banyan tree site near Mahabubnagar town; official page describes it as ~700 years old with a large spread and on-site visitor facilities.",
          "why_go": ["Iconic landmark", "Shaded picnic-like atmosphere", "Quick half-day visit"],
          "admin_area": { "district": "Mahabubnagar", "mandal": "Mahabubnagar (as per district site context)" },
          "visit_tips": {
            "best_time": "Decâ€“Feb is highlighted as best season for the region (general destination guidance).",
            "duration": "1â€“2 hours (typical quick visit)",
            "notes": ["Expect crowds on holidays; be mindful of animal facilities if present."]
          },
          "sources": [
            { "label": "Mahabubnagar District - Pillala Marri Tree", "url": "https://mahabubnagar.telangana.gov.in/pillala-marri/" }
          ],
          "images": [
            {
              "title": "Pillalamarri Mahabubnagar",
              "commons_page": "https://commons.wikimedia.org/wiki/File:Pillalamarri_Mahabubnagar.jpg",
              "license": "See Wikimedia file page",
              "attribution": "From Wikimedia Commons (check file page for author/license)"
            }
          ],
          "tags": ["family", "weekend", "nature", "photography"]
        },
        {
          "id": "koilkonda-fort",
          "name": "Koilkonda Fort",
          "type": ["History", "Fort", "Viewpoint"],
          "summary": "Hilltop fort described by the district page as an erstwhile Qutb Shahi outpost; mentions multiple gates and an inscription dated 1550.",
          "why_go": ["Trek + ruins", "Great views", "History nerd heaven"],
          "admin_area": { "district": "Mahabubnagar", "mandal": "Koilkonda" },
          "visit_tips": { "duration": "2â€“4 hours", "notes": ["Carry water; uneven terrain; sun protection."] },
          "sources": [
            { "label": "Mahabubnagar District - Koilkonda Fort", "url": "https://mahabubnagar.telangana.gov.in/koilkonda-fort/" }
          ],
          "images": [
            {
              "title": "Koilkonda Fort (Mahbubnagar)",
              "commons_page": "https://commons.wikimedia.org/wiki/File:Koilkonda_Fort(Mahbubnagar).jpg",
              "license": "See Wikimedia file page",
              "attribution": "From Wikimedia Commons (check file page for author/license)"
            }
          ],
          "tags": ["trek", "ruins", "sunset", "photography"]
        },
        {
          "id": "manyam-konda",
          "name": "Manyam Konda (Sri Venkateshwara Temple)",
          "type": ["Spiritual", "Cave Temple", "Hill"],
          "summary": "Cave-located hill shrine; district page describes it as a major spiritual center near Mahabubnagar and notes an annual festival on Magha Purnima.",
          "why_go": ["Pilgrimage", "Views + caves", "Quiet hill vibe"],
          "admin_area": { "district": "Mahabubnagar", "mandal": "Mahabubnagar (per district page)" },
          "visit_tips": { "duration": "Half-day", "notes": ["Respect temple customs; watch steps/rocks."] },
          "sources": [
            { "label": "Mahabubnagar District - Manyam Konda", "url": "https://mahabubnagar.telangana.gov.in/manyam-konda/" },
            { "label": "Telangana Tourism - Mahabubnagar destination", "url": "https://tourism.telangana.gov.in/destinations/mahabubnagar" }
          ],
          "images": [],
          "image_needed": true,
          "suggested_query_terms": ["Manyam Konda Mahabubnagar Wikimedia Commons", "Sri Venkateshwara Temple Manyam Konda photo"]
        },
        {
          "id": "mayuri-haritha-vanam",
          "name": "Mayuri Haritha Vanam (Eco Park)",
          "type": ["Eco Park", "Recreation", "Nature"],
          "summary": "Eco-tourism / urban green space initiative described by the district page; positioned near the Mahbubnagarâ€“Jadcherla highway with hilly forested terrain.",
          "why_go": ["Bright, modern hangout", "Green space", "Easy local getaway"],
          "admin_area": { "district": "Mahabubnagar" },
          "visit_tips": { "duration": "2â€“3 hours", "notes": ["Great for evening stroll content and quick reels."] },
          "sources": [
            { "label": "Mahabubnagar District - Mayuri Haritha Vanam", "url": "https://mahabubnagar.telangana.gov.in/mayuri-haritha-vanam/" },
            { "label": "Mahabubnagar District - Tourist Places", "url": "https://mahabubnagar.telangana.gov.in/tourist-places/" }
          ],
          "images": [],
          "image_needed": true,
          "suggested_query_terms": ["Mayuri Haritha Vanam Mahabubnagar Wikimedia Commons", "Mayuri Eco Park Mahabubnagar photo"]
        },
        {
          "id": "pedda-cheruvu",
          "name": "Pedda Cheruvu (Big Lake)",
          "type": ["Lake", "City Nature"],
          "summary": "Large natural lake in Mahabubnagar town described by the district page, including bund-road access around the lake.",
          "why_go": ["Sunset walks", "Local everyday-life vibe", "Simple scenic shots"],
          "admin_area": { "district": "Mahabubnagar" },
          "visit_tips": { "duration": "1â€“2 hours" },
          "sources": [
            { "label": "Mahabubnagar District - Pedda Cheruvu", "url": "https://mahabubnagar.telangana.gov.in/pedda-cheruvu/" }
          ],
          "images": [],
          "image_needed": true,
          "suggested_query_terms": ["Pedda Cheruvu Mahabubnagar Wikimedia Commons", "Peddacheruvu Mahabubnagar lake photo"]
        },
        {
          "id": "krishna-bhima-sangam",
          "name": "Sri Sangam of Krishna and Bhima Rivers",
          "type": ["River Confluence", "Spiritual", "Heritage"],
          "summary": "Confluence site described by the district page with religious importance and historical references.",
          "why_go": ["Confluence landscape", "Pilgrimage significance", "Heritage storytelling"],
          "admin_area": { "district": "Mahabubnagar", "mandal": "Maganoor (as per district page)" },
          "visit_tips": { "duration": "2â€“4 hours" },
          "sources": [
            { "label": "Mahabubnagar District - Sri Sangam", "url": "https://mahabubnagar.telangana.gov.in/sri-sangam-of-krishna-and-bheemarivers/" }
          ],
          "images": [],
          "image_needed": true
        },
        {
          "id": "mudmal-megaliths",
          "name": "Megalithic Burials / Menhirs (Mudmal area)",
          "type": ["Archaeology", "Prehistory", "Landscape"],
          "summary": "District page describes a large megalithic burial landscape and menhir features in the Mudmal/Maganoor area.",
          "why_go": ["Rare prehistoric site", "Science-y storytelling", "Offbeat exploration"],
          "admin_area": { "district": "Mahabubnagar", "mandal": "Maganoor" },
          "visit_tips": { "duration": "Half-day", "notes": ["Go with daylight; be respectfulâ€”this is a burial landscape."] },
          "sources": [
            { "label": "Mahabubnagar District - Megalit Burials", "url": "https://mahabubnagar.telangana.gov.in/megalit-burials/" }
          ],
          "images": [],
          "image_needed": true
        },
        {
          "id": "gurdwara-manji-sahib-thimmareddipalle",
          "name": "Gurdwara Majji/Manji Sahib (Thimma Reddi Palle, Maddur Mandal)",
          "type": ["Spiritual", "Sikh Heritage"],
          "summary": "Included per user request. Currently found as a community reference online; not located on official tourism pages or Wikimedia in this pass.",
          "admin_area": { "district": "Mahabubnagar", "mandal": "Maddur" },
          "verification_status": "community_reference_only",
          "sources": [
            { "label": "Community reference mentioning the gurdwara at Thimma Reddi Palle (Maddur Mandal)", "url": "https://www.sikhphilosophy.net/threads/forgotten-sikh-tribes-and-sikh-religious-places.54071/" }
          ],
          "images": [],
          "image_needed": true,
          "suggested_query_terms": ["Gurdwara Manji Sahib Thimma Reddi Palle Wikimedia", "Thimmareddipalle gurdwara photo"]
        }
      ]
    };

    const cardsEl = document.getElementById('cards');
    const chipsEl = document.getElementById('chips');
    const searchInput = document.getElementById('searchInput');
    const resultsNote = document.getElementById('resultsNote');
    const modal = document.getElementById('placeModal');
    const closeModalBtn = document.getElementById('closeModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalBadges = document.getElementById('modalBadges');
    const modalBody = document.getElementById('modalBody');

    const allTypes = [...new Set(data.places.flatMap(place => place.type || []))].sort();
    let activeType = 'All';

    function createChips() {
      const types = ['All', ...allTypes];
      chipsEl.innerHTML = types.map(type => `
        <button class="chip" data-type="${type}" aria-pressed="${type === 'All'}">${type}</button>
      `).join('');
    }

    function getImageUrl(place) {
      const first = place.images && place.images[0];
      return first?.image_url || first?.url || first?.commons_page || '';
    }

    function renderCards() {
      const query = searchInput.value.trim().toLowerCase();
      const filtered = data.places.filter(place => {
        const haystack = [
          place.name,
          ...(place.type || []),
          ...(place.tags || [])
        ].join(' ').toLowerCase();
        const typeMatch = activeType === 'All' || (place.type || []).includes(activeType);
        const queryMatch = !query || haystack.includes(query);
        return typeMatch && queryMatch;
      });

      resultsNote.textContent = `${filtered.length} place${filtered.length === 1 ? '' : 's'} found`;

      cardsEl.innerHTML = filtered.map(place => {
        const imageUrl = getImageUrl(place);
        return `
          <article class="card" tabindex="0" data-id="${place.id}" role="button" aria-label="Open details for ${place.name}">
            ${imageUrl
              ? `<img class="cover" src="${imageUrl}" alt="${place.name} cover image" loading="lazy" onerror="this.closest('article').querySelector('.placeholder').hidden=false; this.hidden=true;"/><div class="placeholder" hidden>Preview available on source page</div>`
              : `<div class="placeholder">No image yet</div>`}
            <div class="content">
              <h2 class="title">${place.name}</h2>
              <div class="badges">${(place.type || []).map(type => `<span class="badge">${type}</span>`).join('')}</div>
              <div class="meta-badges">
                ${place.image_needed ? '<span class="badge warn">Image needed</span>' : ''}
                ${place.verification_status === 'community_reference_only' ? '<span class="badge verify">Verify details</span>' : ''}
              </div>
              <p class="summary">${place.summary || 'No summary yet.'}</p>
            </div>
          </article>
        `;
      }).join('');

      if (!filtered.length) {
        cardsEl.innerHTML = '<p>No places match your filters. Try a broader search.</p>';
      }
    }

    function renderModal(place) {
      modalTitle.textContent = place.name;
      modalBadges.innerHTML = [
        ...(place.type || []).map(type => `<span class="badge">${type}</span>`),
        place.image_needed ? '<span class="badge warn">Image needed</span>' : '',
        place.verification_status === 'community_reference_only' ? '<span class="badge verify">Verify details</span>' : ''
      ].join('');

      const tips = place.visit_tips || {};
      const tipItems = [
        tips.best_time ? `<li><strong>Best time:</strong> ${tips.best_time}</li>` : '',
        tips.duration ? `<li><strong>Suggested duration:</strong> ${tips.duration}</li>` : '',
        ...(tips.notes || []).map(note => `<li>${note}</li>`)
      ].join('');

      const adminArea = Object.entries(place.admin_area || {})
        .map(([k, v]) => `<li><strong>${k}:</strong> ${v}</li>`)
        .join('');

      const gallery = (place.images || []).length
        ? `<div class="gallery">${place.images.map(img => {
            const link = img.image_url || img.url || img.commons_page;
            return `<a class="thumb" href="${link}" target="_blank" rel="noopener noreferrer">
              <strong>${img.title || 'Image'}</strong>
              <span>${img.license || 'Open source page'}</span>
              <span>${img.attribution || ''}</span>
            </a>`;
          }).join('')}</div>`
        : '<p>No gallery images available yet.</p>';

      modalBody.innerHTML = `
        <section class="detail-group">
          <h3>Summary</h3>
          <p>${place.summary || 'No summary available.'}</p>
        </section>

        <section class="detail-group">
          <h3>Why go</h3>
          ${(place.why_go || []).length ? `<ul>${(place.why_go || []).map(item => `<li>${item}</li>`).join('')}</ul>` : '<p>Not specified.</p>'}
        </section>

        <section class="detail-group">
          <h3>Visit tips</h3>
          ${tipItems ? `<ul>${tipItems}</ul>` : '<p>Not specified.</p>'}
        </section>

        <section class="detail-group">
          <h3>Administrative area</h3>
          ${adminArea ? `<ul>${adminArea}</ul>` : '<p>Not specified.</p>'}
        </section>

        <section class="detail-group sources">
          <h3>Sources</h3>
          ${(place.sources || []).length
            ? `<ul>${place.sources.map(src => `<li><a href="${src.url}" target="_blank" rel="noopener noreferrer">${src.label}</a></li>`).join('')}</ul>`
            : '<p>No source links listed.</p>'}
        </section>

        <section class="detail-group">
          <h3>Image gallery</h3>
          ${gallery}
        </section>
      `;
      modal.showModal();
      closeModalBtn.focus();
    }

    createChips();
    renderCards();

    chipsEl.addEventListener('click', event => {
      const target = event.target.closest('.chip');
      if (!target) return;
      activeType = target.dataset.type;
      [...chipsEl.querySelectorAll('.chip')].forEach(chip => {
        chip.setAttribute('aria-pressed', String(chip === target));
      });
      renderCards();
    });

    searchInput.addEventListener('input', renderCards);

    cardsEl.addEventListener('click', event => {
      const card = event.target.closest('.card');
      if (!card) return;
      const place = data.places.find(p => p.id === card.dataset.id);
      if (place) renderModal(place);
    });

    cardsEl.addEventListener('keydown', event => {
      if (event.key !== 'Enter' && event.key !== ' ') return;
      const card = event.target.closest('.card');
      if (!card) return;
      event.preventDefault();
      const place = data.places.find(p => p.id === card.dataset.id);
      if (place) renderModal(place);
    });

    closeModalBtn.addEventListener('click', () => modal.close());

    modal.addEventListener('click', event => {
      const rect = modal.getBoundingClientRect();
      const inDialog = rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;
      if (!inDialog) modal.close();
    });

    document.addEventListener('keydown', event => {
      if (event.key === 'Escape' && modal.open) {
        modal.close();
      }
    });
  </script>
</body>
</html>
